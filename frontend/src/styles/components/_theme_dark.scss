//Dark Sidebar Mixin
@mixin skin-dark-left-sidebar() {
  // Sidebar background color (Both .wrapper is responsible for sidebar bg color)
  .wrapper, .left-sidebar {
    background-color: $sidebar-dark-apps-menu-bg;
  }
  .left-sidebar {
    // Side bar Menu apps
    .sidebar-apps-icons {
      background-color: $sidebar-dark-icons-menu-bg;

      .menu > a {
        color: $sidebar-dark-icons-menu-color;

        &:not(:first-child) {
          border-bottom: .5px solid $sidebar-dark-icons-menu-bg;

          &:hover, &.active {
            color: $sidebar-dark-icons-menu-hover-color;
            background: $sidebar-dark-icons-menu-hover-bg;
            border-right: .5px solid $sidebar-dark-icons-menu-bg;
          }
        }
      }

      .menu-mini {
        background-color: $sidebar-dark-apps-menu-bg;
        border-top: .5px solid $sidebar-dark-icons-menu-border-color;
        border-right: .5px solid $sidebar-dark-icons-menu-border-color;
        border-bottom: .5px solid $sidebar-dark-icons-menu-border-color;

        > a {
          color: $sidebar-dark-apps-menu-border-color;

          &:hover, &.active {
            background: $sidebar-dark-apps-menu-hover-bg;
            color: $sidebar-dark-apps-menu-hover-color;

            > fa-icon:first-child {
              color: $primary;
            }
          }
        }
      }

      .chat-item-sidebar {
        color: $sidebar-dark-apps-menu-border-color;
        border-bottom: .5px solid $sidebar-dark-mini-menu-bg;

        &:hover, &.active {
          background-color: darken($sidebar-dark-mini-menu-bg, 5%);
        }
      }
    }

    .sidebar-apps-menus {
      .menus-content {
        border-right: .5px solid $sidebar-dark-icons-menu-border-color;
      }

      .menu {
        border-bottom: .5px solid $sidebar-dark-apps-menu-bg;

        > a {
          color: $sidebar-dark-apps-menu-border-color;
        }

        //&.submenu {
        //  background-color: darken($sidebar-dark-apps-menu-bg, 3%);
        //}

        &:hover, &.active {
          > a {
            background: $sidebar-dark-apps-menu-hover-bg;
            color: $sidebar-dark-apps-menu-hover-color;

            > fa-icon:first-child {
              color: $primary;
            }
          }
        }
      }

      .sidebar-apps-footer {
        color: $secondary;
      }
    }
  }
}

@mixin skin-dark-right-sidebar() {
  .control-sidebar-theme-dark {
    background: $sidebar-dark-apps-menu-bg;
    border-left: .5px solid $sidebar-dark-icons-menu-border-color;

    .sidebar-component-title,
    .sidebar-title {
      color: $sidebar-dark-apps-menu-color;
      background: $sidebar-dark-apps-menu-title-bg;
      border-bottom: .5px solid $sidebar-dark-icons-menu-border-color;
    }

    .sidebar-component-content {
      color: $gray-light;
    }

    hr {
      border-top-color: $dark-control-sidebar-separator-color !important;
      opacity: 1;
    }
  }
  .control-sidebar-menu {
    .sidebar-apps-icons {
      background-color: $sidebar-dark-icons-menu-bg;
      border-left: .5px solid $sidebar-dark-icons-menu-border-color;

      .menu {
        > a {
          color: $sidebar-dark-icons-menu-color;

          &:hover, &.active {
            color: $gray-lightest;
            background: $sidebar-dark-icons-menu-hover-bg;
          }
        }
      }
    }
  }
}

@mixin skin-dark-chat() {
  .chat-border-bottom {
    border-bottom-color: $sidebar-dark-apps-menu-bg;
  }
  .chat-input {
    background-color: $sidebar-dark-icons-menu-bg;
  }
  .chat-container {
    background-color: lighten($sidebar-dark-apps-menu-title-bg, 4%);
  }
  .chat-button-bottom {
    color: $gray-light;

    &:hover {
      color: lighten($gray-light, 30%);
    }
  }
  .chat-list-sidebar {
    color: $sidebar-dark-apps-menu-border-color;

    .chat-item-sidebar {
      border-bottom: .5px solid $sidebar-dark-apps-menu-bg;

      &:hover, &.active {
        color: $sidebar-dark-apps-menu-hover-color;
        background-color: $sidebar-dark-apps-menu-hover-bg;
      }
    }
  }
}

@mixin skin-dark-tree() {
  .angular-tree-component {
    .node-wrapper,
    .node-content-wrapper {
      &:hover,
      &:focus,
      &:active {
        background-color: $dark-tree-node-hover-bg;
      }
    }

    .node-wrapper.tree-selected,
    .node-content-wrapper.node-content-wrapper-active,
    .node-content-wrapper.node-content-wrapper-active:hover {
      background-color: $dark-tree-node-selected-bg;
    }
  }
}

@mixin skin-dark-app() {
  .dialog-tab-card {
    box-shadow: 0 12px 24px $dark-dialog-tab-card-shadow-color;
  }
  .dialog-check-card {
    border: 1px solid $dark-dialog-check-card-border-color;
  }
  .dialog-check-card--interactive {
    cursor: pointer;
    transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
  }
  .dialog-check-card--interactive:hover {
    border-color: $dark-dialog-check-card-hover-border-color;
    box-shadow: 0 6px 14px $dark-dialog-check-card-hover-shadow-color;
  }
  .dialog-check-card--active {
    border-color: $dark-dialog-check-card-active-border-color;
  }
  tabset {
    > .nav.nav-pills,
    > ul.nav.nav-pills {
      border-bottom: 1px solid $dark-dialog-tabs-bar-border-color;
      background: transparent;

      .nav-link {
        background: $dark-dialog-tab-bg;
        color: $dark-dialog-tab-color;
        border-color: $dark-surface-border;
      }

      .nav-link:hover:not(.active) {
        background: $dark-dialog-tab-hover-bg;
        color: $dark-dialog-tab-hover-color;
        border-color: $dark-dialog-tab-hover-border-color;
      }

      .nav-link:hover:not(.active) .app-tab-count {
        background: $dark-dialog-tab-count-hover-bg;
        color: $dark-dialog-tab-count-hover-color;
      }

      .nav-link.active {
        background: $dark-dialog-tab-active-bg;
        color: $white;
        border-color: $dark-dialog-tab-active-border-color;
        box-shadow: $dark-dialog-tab-active-shadow;
      }
    }

    .app-tab-count {
      background: $dark-dialog-tab-count-bg;
      color: $dark-dialog-tab-count-color;
    }
  }
  .btn {
    &:focus-visible {
      outline: 2px solid $dark-btn-focus-color;
      outline-offset: 1px;
      box-shadow: none !important;
    }
  }
  .btn-default,
  .btn-custom,
  .btn-outline-secondary-alt {
    border-color: $dark-surface-border !important;
    color: $dark-item-color !important;
    background-color: $dark-surface-bg !important;

    &:hover:not(:disabled) {
      border-color: mix($primary, $sidebar-dark-icons-menu-border-color, 34%) !important;
      color: $dark-item-hover-color !important;
      background-color: $sidebar-dark-icons-menu-bg !important;
    }

    &:disabled {
      border-color: $dark-surface-border !important;
      color: $dark-item-disabled-color !important;
      background-color: $dark-surface-bg !important;
    }
  }
  .btn-custom {
    fa-icon,
    span {
      color: inherit !important;
    }

    &:is(.active, :active, [aria-pressed='true']):not(:disabled) {
      background-color: $primary !important;
      border-color: $primary !important;
      color: $white !important;
    }
  }
  .btn-check:is(:checked, :active) + .btn-custom:not(:disabled) {
    background-color: $primary !important;
    border-color: $primary !important;
    color: $white !important;
  }
  .btn-outline-blue {
    @include button-outline-variant($primary);
  }
  .btn[class*='bg-']:hover {
    @include box-shadow(inset 0 0 100px $theme-btn-bg-hover-overlay-shadow);
  }
  .btn-minimize {
    background: transparent url("#{$theme-btn-minimize-icon-svg}") center/1em auto no-repeat;
  }
  app-input-filter {
    .filter-shell {
      border-color: $dark-surface-border;
      background-color: $dark-surface-bg;
      box-shadow: inset 0 1px 1px rgba($black, 0.24);

      &:hover {
        border-color: mix($primary, $sidebar-dark-icons-menu-border-color, 34%);
      }

      &:focus-within {
        border-color: $primary;
        box-shadow: 0 0 0 2px $dark-btn-focus-color,
        inset 0 1px 1px rgba($black, 0.2);
      }

      &.has-value {
        border-color: mix($primary, $dark-surface-border, 62%);
      }

      input {
        color: $dark-item-hover-color;
        caret-color: lighten($primary, 12%);

        &::placeholder {
          color: $dark-item-disabled-color;
        }
      }
    }

    .filter-icon {
      color: $dark-item-color;
    }

    .clear-btn {
      color: $dark-item-color;

      &:hover {
        color: $dark-item-hover-color;
      }

      &:focus-visible {
        outline-color: $dark-btn-focus-color;
      }
    }
  }
  .dropdown-menu {
    border: .5px solid $dark-surface-border !important;
    background-color: $dark-surface-bg !important;
    box-shadow: $dark-menu-surface-shadow;

    > li > a {
      color: $dark-item-color;
      background-color: transparent;

      &:hover {
        background-color: $sidebar-dark-icons-menu-bg !important;
        color: $dark-item-hover-color !important;
      }
    }

    > .divider {
      background-color: $theme-dropdown-divider-bg;
    }
  }
  .dropdown-item {
    color: $dark-item-color;

    &:hover,
    &.active,
    &:active {
      background-color: $sidebar-dark-icons-menu-bg !important;
      color: $dark-item-hover-color !important;
    }
  }
  .dropdown-divider {
    border-top-color: $dark-surface-border !important;
  }

  .virtual-scroll-border-top {
    border-top: 0.5px solid $dark-border-subtle !important;
  }

  .app-table {
    color: $gray-light;
    // Bootstrap 5 fix
    > :not(:first-child) {
      border-top: 1px solid $sidebar-dark-icons-menu-border-color;
    }

    thead {
      background-color: $sidebar-dark-icons-menu-bg;
    }

    tbody tr {
      border-bottom-color: $dark-border-subtle !important;

      &:hover {
        background-color: $dark-table-row-hover-bg !important;
      }

      &.selected {
        background-color: $sidebar-dark-apps-menu-title-bg !important;
        box-shadow: inset 2px 0 0 $primary;
      }
    }

    tbody td:not(:first-child) {
      color: darken($gray-light, 5%);
    }
  }
  .app-table-striped {
    > tbody > tr {
      &:nth-of-type(odd) {
        background-color: $sidebar-dark-icons-menu-border-color;
      }

      &:hover {
        background-color: $dark-table-row-hover-bg;
      }
    }
  }
  .app-top-menu {
    border-top-color: $sidebar-dark-icons-menu-border-color;
    border-bottom-color: $sidebar-dark-icons-menu-border-color;
    background-color: darken($sidebar-dark-icons-menu-bg, 1.5%);

    .dropdown-menu {
      > li > a {
        color: $gray-light;
      }
    }

    .dropdown-item {
      color: $gray-light;
    }
  }
  .app-foot-menu {
    border-top: 0.5px solid $dark-border-subtle !important;
    background-color: $sidebar-dark-icons-menu-bg;
    color: darken($gray-light, 5%);
  }
  .app-div-hovered {
    &:hover {
      background-color: darken($sidebar-dark-apps-menu-bg, 4%) !important;
    }

    &.selected {
      background-color: $sidebar-dark-apps-menu-title-bg !important;
    }
  }
  .app-div-striped {
    &.selected {
      background-color: $sidebar-dark-apps-menu-title-bg !important;
    }

    &:nth-of-type(even) {
      background-color: lighten($sidebar-dark-apps-menu-title-bg, 4%);
    }
  }
  .app-div-striped-inverse {
    &:nth-of-type(odd) {
      background-color: $dark-striped-bg;
    }
  }
  .app-thumbs {
    background-color: inherit !important;

    .row {
      .card {
        background-color: $sidebar-dark-icons-menu-bg;
        border-color: $sidebar-dark-icons-menu-border-color;

        &.selected {
          background-color: $sidebar-dark-apps-menu-title-bg;

          .card-footer {
            background-color: $sidebar-dark-apps-menu-title-bg;
          }
        }
      }

      .card-footer {
        color: $gray-light;
        background-color: $sidebar-dark-icons-menu-bg;
        border-top: .5px solid $sidebar-dark-icons-menu-border-color;
      }
    }
  }
  .app-sync-clients {
    --sync-client-card-shadow: 0 4px 4px #{$dark-dialog-tab-card-shadow-color};
    --sync-client-card-selected-border: #{$dark-dialog-check-card-active-border-color};
    --sync-client-details-border: #{$dark-dialog-check-card-border-color};
    --sync-client-details-bg: linear-gradient(
        158deg,
        #{mix($dark-dialog-tab-bg, $sidebar-dark-apps-menu-bg, 68%)} 0%,
        #{mix($sidebar-dark-apps-menu-title-bg, $dark-dialog-tab-bg, 62%)} 100%
    );
    --sync-client-subtle-color: #{$dark-item-color};
    --sync-client-paths-count-fg: #{$white};
    --sync-client-paths-count-bg: #{lighten($primary, 6%)};
    --sync-client-path-empty-border: #{$dark-dialog-check-card-hover-border-color};
    --sync-client-path-empty-bg: #{mix($dark-dialog-tab-bg, $sidebar-dark-apps-menu-title-bg, 70%)};
    --sync-path-actions-separator: #{$dark-dialog-check-card-border-color};
    --sync-path-hover-bg: #{$sidebar-dark-icons-menu-bg};
  }
  .list-group-item {
    background-color: lighten($sidebar-dark-apps-menu-title-bg, 8%);
    color: $white;
  }
  .border-bottom {
    border-bottom-width: 0.5px !important;
    border-bottom-color: $dark-control-sidebar-separator-color !important;
  }
  .profile-page {
    background-color: lighten($sidebar-dark-apps-menu-title-bg, 4%);

    select {
      background-color: transparent;
      color: $white;
      filter: brightness(0) invert(1);
    }
  }
  .task-list {
    border-bottom-color: $sidebar-dark-icons-menu-border-color;

    &:hover {
      background-color: $sidebar-dark-apps-menu-title-bg;
    }
  }
  .app-small-card {
    background-color: lighten($sidebar-dark-apps-menu-title-bg, 2%);
  }
  .wizard {
    tbody tr {
      &:hover {
        background-color: lighten($sidebar-dark-apps-menu-title-bg, 1%) !important;
      }

      &.selected {
        background-color: darken($sidebar-dark-apps-menu-title-bg, 5%);
      }
    }

    .wizard-nav-content {
      background-color: $sidebar-dark-icons-menu-bg;
    }
  }
  .sidebar-item {
    .sidebar-item-container {
      &:hover {
        background-color: $sidebar-dark-apps-menu-title-bg;
      }

      .sidebar-item-content {
        border-bottom-color: $sidebar-dark-icons-menu-border-color;
      }
    }
  }
}

@mixin skin-dark-miscellaneous() {
  .content-wrapper {
    background-color: lighten($sidebar-dark-apps-menu-bg, 4%);
    color: $gray-light;
  }
  //.content-container {
  //  border-left: .5px solid $sidebar-dark-icons-menu-border-color;
  //}
  .ngx-contextmenu {
    background-color: $dark-surface-bg !important;
    border-color: $dark-surface-border !important;
    box-shadow: $dark-menu-surface-shadow !important;

    > button.ngx-context-menu-item {
      color: $gray-light !important;
      background-color: transparent !important;

      &:hover,
      &:focus-visible,
      &.active {
        background-color: $sidebar-dark-icons-menu-hover-bg !important;
      }
    }

    > [role='separator'] {
      border-top-color: $dark-surface-border !important;
    }
  }
  .dialog-tab-card,
  .dialog-check-card {
    color: $gray-light;
    background-color: $sidebar-dark-icons-menu-bg;
    border-color: $sidebar-dark-icons-menu-border-color;
  }
  .modal-content {
    background: transparent !important;
  }
  .modal-header {
    border-bottom-color: $dark-striped-bg;
  }
  .modal-body {
    color: $gray-light;
    background-color: $dark-striped-bg;

    .app-top-menu {
      background: transparent;
    }
  }
  .modal-footer {
    color: $gray-light;
    background-color: $sidebar-dark-apps-menu-title-bg;
    border-top-color: $sidebar-dark-apps-menu-title-bg;
  }
  .pagination {
    --bs-pagination-color: #{$gray-light};
    --bs-pagination-bg: #{lighten($sidebar-dark-icons-menu-bg, 6%)};
    --bs-pagination-border-color: #{$sidebar-dark-icons-menu-border-color};
    --bs-pagination-hover-color: #{$white};
    --bs-pagination-hover-bg: #{lighten($sidebar-dark-icons-menu-bg, 10%)};
    --bs-pagination-hover-border-color: #{lighten($sidebar-dark-icons-menu-border-color, 8%)};
    --bs-pagination-focus-color: #{$white};
    --bs-pagination-focus-bg: #{lighten($sidebar-dark-icons-menu-bg, 10%)};
    --bs-pagination-focus-box-shadow: none;
    --bs-pagination-active-color: #{$white};
    --bs-pagination-active-bg: #{$primary};
    --bs-pagination-active-border-color: #{darken($primary, 8%)};
    --bs-pagination-disabled-color: #{$dark-item-disabled-color};
    --bs-pagination-disabled-bg: #{$sidebar-dark-icons-menu-bg};
    --bs-pagination-disabled-border-color: #{$sidebar-dark-icons-menu-border-color};
  }
  .modal-auth-verify-2fa,
  .modal-viewer-select {
    .card {
      @extend .dialog-tab-card;
    }
  }
  typeahead-container,
  .ui-select-choices {
    &.dropdown-menu {
      background-color: $sidebar-dark-icons-menu-border-color;
      border-color: $sidebar-dark-apps-menu-title-bg;

      > li > a {
        color: $gray-light;

        &:hover {
          background-color: darken($sidebar-dark-apps-menu-bg, 4%);
        }
      }
    }

    .dropdown-item {
      color: $gray-light !important;

      &:hover, &.active {
        background-color: darken($sidebar-dark-apps-menu-bg, 4%);
      }
    }
  }
  .nav-link {
    color: $gray-light;
    background: lighten($sidebar-dark-icons-menu-bg, 4%);

    &:hover {
      color: $white;
      background: lighten($sidebar-dark-icons-menu-bg, 8%);
    }

    &.active {
      color: $white;
      background: $primary;
    }

    &:not(.active).disabled {
      color: $muted;
    }
  }
  .form-control-plaintext {
    color: $white;
  }
  .form-control, .form-select, .input-group-text {
    background-color: $sidebar-dark-apps-menu-title-bg;
    color: $white;
    border-color: $dark-field-border;

    &:focus {
      border-color: $primary;
    }

    &:disabled {
      color: $muted;
      cursor: not-allowed;
      background-color: lighten($sidebar-dark-apps-menu-title-bg, 8%);
    }
  }
  .small-box {
    color: $gray-light;
    border-color: $dark-field-border;
    background-color: $sidebar-dark-icons-menu-bg;
  }
  .box:not(.box-background-transparent) {
    background-color: $sidebar-dark-icons-menu-bg;
  }
  .box-default {
    @include box-solid-variant($sidebar-dark-apps-menu-title-bg, $gray-light, true);

    > .box-header {
      border-bottom: .5px solid $sidebar-dark-apps-menu-title-bg;
    }

    > .box-footer {
      border-top: .5px solid $sidebar-dark-apps-menu-title-bg;
    }
  }
  .box-footer-default {
    background-color: $sidebar-dark-apps-menu-title-bg;

    &:hover {
      background-color: darken($sidebar-dark-apps-menu-title-bg, 5%);
    }
  }
  .box-transparent {
    background-color: darken($sidebar-dark-icons-menu-bg, 2%);
    border-color: $sidebar-dark-icons-menu-border-color;
    box-shadow: 0 10px 24px $dark-box-transparent-shadow-color;

    > .box-header {
      background: linear-gradient(
                      180deg,
                      darken($sidebar-dark-icons-menu-bg, 2%) 0%,
                      darken($sidebar-dark-icons-menu-bg, 6%) 100%
      );
      border-bottom-color: $sidebar-dark-icons-menu-border-color;
    }

    .product-img {
      background-color: darken($sidebar-dark-icons-menu-border-color, 8%);
      border: 1px solid $sidebar-dark-icons-menu-border-color;
    }
  }
  .products-list > li:hover {
    background-color: darken($sidebar-dark-apps-menu-title-bg, 2%);
  }
  .product-list-in-box {
    border-bottom-color: $sidebar-dark-icons-menu-border-color;
  }
  .ui-disabled {
    background-color: $sidebar-dark-icons-menu-bg !important;
    color: $body-color;
  }
  .ui-select-toggle {
    ::after {
      color: $gray-light;
    }
  }
  .text-purple {
    color: $dark-text-purple-color !important;
  }
  .text-primary {
    color: $dark-text-primary-color !important;
  }
  .bg-theme {
    background-color: $dark-bg-theme;
  }
  .bg-theme-alt {
    background-color: $sidebar-dark-apps-menu-title-bg !important;
  }
  .bg-white {
    background-color: lighten($sidebar-dark-apps-menu-bg, 4%) !important;
  }
  .btn-close {
    filter: $theme-btn-close-white-filter;
  }
  .btn-outline-secondary-alt {
    border-color: $dark-field-border;
  }
  .text-muted {
    color: $dark-text-muted-color !important;
  }
  .text-bg-light {
    color: $gray-light !important;
    background-color: lighten($sidebar-dark-apps-menu-title-bg, 8%) !important;
  }
  .avatar-img {
    background-color: darken($gray-light, 5%);
  }
  // Code Mirror
  .cm-panel.cm-search {
    button[aria-label="close"] {
      right: 10px !important;
      font-size: 18px !important;
      color: $gray-light !important;
    }
  }
}
