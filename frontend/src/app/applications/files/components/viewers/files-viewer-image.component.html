<!--
  ~ Copyright (C) 2012-2025 Johan Legrand <johan.legrand@sync-in.com>
  ~ This file is part of Sync-in | The open source file sync and share solution
  ~ See the LICENSE file for licensing details
  -->

<div [style.height.px]="currentHeight()">
  <div class="app-top-menu d-flex justify-content-between">
    <div class="d-flex">
      <button
        (click)="previousImage()"
        [tooltip]="'Previous' | translate:locale.language"
        [adaptivePosition]="true"
        container="body"
        class="d-none d-sm-block btn btn-sm btn-custom me-1"
        type="button">
        <fa-icon [icon]="icons.faAngleLeft"></fa-icon>
      </button>
      <button
        (click)="nextImage()"
        [tooltip]="'Next' | translate:locale.language"
        container="body"
        class="d-none d-sm-block btn btn-sm btn-custom me-1"
        type="button">
        <fa-icon [icon]="icons.faAngleRight"></fa-icon>
      </button>
      @if (!isSlideshowActive()) {
      <button
        (click)="startSlideshow()"
        [tooltip]="'Start slideshow' | translate:locale.language"
        container="body"
        class="d-none d-sm-block btn btn-sm btn-custom me-1"
        type="button">
        <fa-icon [icon]="icons.faPlay"></fa-icon>
       </button>
      } @else {
      <button
        (click)="stopSlideshow()"
        [tooltip]="'Stop slideshow' | translate:locale.language"
        container="body"
        class="d-none d-sm-block btn btn-sm btn-custom me-1"
        type="button">
        <fa-icon [icon]="icons.faStop"></fa-icon>
      </button>
      }
    </div>
    <div>{{ imageIndex() + 1 }} of {{ imageCount() }}</div>
    <button
      btnCheckbox
      [(ngModel)]="isInfoboxOpen"
      [tooltip]="'Info' | translate:locale.language"
      container="body"
      class="d-none d-sm-block btn btn-sm btn-custom me-1"
      type="button">
      <fa-icon [icon]="icons.faInfo"></fa-icon>
    </button>
  </div>
  <div class="d-flex justify-content-center" [style.height]="`calc(${currentHeight()}px - 40px)`">
  <img #image (load)="onImageLoad()" [src]="file().dataUrl" [style.max-height]="`calc(${currentHeight()}px - 40px)`" alt="" class="img-fluid align-self-center" />
    <div class="info-box position-absolute end-0 bottom-0" [class.d-none]="!isInfoboxOpen()">
      {{ file().mime }}
      {{ imageResolution() }}
      {{ file().hSize }}
    </div>
  </div>
</div>
